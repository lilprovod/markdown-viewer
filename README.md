# Markdown Viewer (flet)

Небольшое десктопное приложение на Python + [Flet](https://flet.dev/),
которое позволяет в реальном времени создавать и просматривать Markdown-текст.

Интерфейс программы разделен на два блока:
- слева — поле ввода;
- справа — живой предпросмотр в формате `Markdown`.

Приложение использует кастомные цветовые темы, которые можно изменить в окне
настроек без перезапуска программы. При закрытии программы сохраняется последний
введённый текст и выбранная цветовая схема приложения.

---

## Функционал

- Интерфейс:
    - левая часть — поле ввода для текста;
    - правая часть — предпросмотр (`ft.Markdown` виджет).
- Живое обновление предпросмотра при вводе текста.
- Темы оформления:
    - программа предоставляет несколько базовых цветовых схем
    (Purple, Teal, Orange);
    - тёмные и светлые варианты тем;
    - моментальное переключение темы и режима через окно настроек.
- Сохранения состояния
    - последний введённый текст хранится в `client_storage` и
    восстанавливается при следующем запуске.
- Работа с файлами:
    - доступно открытие `.md`, `.markdown` и `.txt` через диалог
    выбора файла;
    - сохранение текущего текста в файл через диалог сохранения.
- Счётчик символов в поле ввода.
- Встроенный демонстрационный текст для первого запуска.

---

## Требования

- Python 3.10+ (рекомендуется Python 3.11+)
- Установленный пакет [`flet`](https://pypi.org/project/flet/)

---

## Установка и запуск

Приложение находится в разработке...

Установка и запуск происходит с помощью сборки приложения вручную.
Для этого нужно склонировать репозиторий и установить зависимости:

```bash
git clone https://github.com/lilprovod/markdown-viewer
cd markdown-viewer

python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux / macOS:
source .venv/bin/activate

pip install -r requirements.txt
```

Запуск приложения:
```bash
python main.py
```

После выполнения этих инструкций откроется окно Flet-приложения,
доступное для взаимодействия.

---

## Структура проекта

Пример структуры каталога:

```text
markdown-viewer/
├─ src/
│  ├─ main.py           # Точка входа, настройка окна и запуск Flet-приложения
│  ├─ gui.py            # Вёрстка интерфейса, обработчики событий, AppBar, диалоги
│  ├─ theme.py          # Описание тем (цветовые схемы) и вспомогательные функции
│
├─ requirements.txt  # Зависимости проекта (flet)
└─ README.md
```

---

## Использование

### Редактирование Markdown

- Вводите текст в левом поле;
- Предпросмотр Markdown автоматически обновляется в правой части окна;
- Счётчик символов отображается под полем ввода;
- После завершения ввода закройте программу или сохраните результат.

### Открытие файла

Кнопка `Open Markdown file` открывает диалог выбора файла. В программе
поддерживаются следующие расширения: `.md`, `.markdown`, `.txt`. После
выбора соответствующего файла загружается его содержимое и отображается
отформатированный результат в Markdown-виджете справа.

### Сохранение файла

Чтобы сохранить файл, используйте кнопку `Save Markdown file`. Откроется
окно сохранения файла: выберите директорию и название файла, затем нажмите
`Сохранить`. По умолчанию имя файла `output.md`.

Статус операции отображается через `SnackBar` снизу (видно после завершения
операции)

### Настройки и темы

Чтобы использовать доступные настройки программы, нажмите кнопку `Open app settings`.
На данный момент настройки позволяют кастомизировать приложение:
- Выбрать светлый или тёмный вариант оформления;
- Выбрать цветовую схему (фиолетовая, бирюзовая, оранжевая...).

После применения соответствующей настройки, диалоговое окно закроется, а необходимая
цветовая схема моментально применится без перезапуска. Теперь можно продолжать
редактировать файлы с приятной темой.

## В разработке:

На данный момент функционал приложения сильно урезан. Какие-то аспекты могут работать
нестабильно. В разработке находится следующий функционал:

- Общая оптимизация приложения и исходного кода;
- Статус-бар внизу окна (количество слов, символов, название файла и т. д.);
- Более аккуратное меню настроек;
- Возможность изменять стандартное название файла при сохранении;
- Адаптация высоты поля ввода под размер окна;
- Быстрое применение предустановленных цветов к тексту;
- Автоматическая система сборки приложения в исполняемый файл;
- Дополнительно:
    - настройки шрифта;
    - экспорт HTML / PDF;
    - drag'n'drop файлов прямо в окно приложения и пр.